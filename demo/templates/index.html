{% extends 'base.html' %}
{%block body%}
    <!-- Form -->
    <div class="container my-4">
      <h2>Add TO-DO Item</h2>
      <form method="POST" action="/">
        <div class="form-group">
          <label for="title">Add Title</label>
          <input type="text" class="form-control" id="title" name="title" required />
        </div>
        <div class="form-group">
          <label for="desc">TODO Description</label>
          <input type="text" class="form-control" id="desc" name="desc" required />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>

    <!-- Todo List -->
    <div class="container my-4">
      <h2>Your List</h2>

      {% if allTodo|length == 0 %}
        <div class="alert alert-warning" role="alert">
          No TODO records found.
        </div>
      {% else %}
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Sr. No.</th>
              <th scope="col">Title</th>
              <th scope="col">Description</th>
              <th scope="col">Time</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for todo in allTodo %}
            <tr>
              <th scope="row">{{ loop.index }}</th>
              <td>{{ todo.title }}</td>
              <td>{{ todo.desc }}</td>
              <td>{{ todo.date_created.strftime('%Y-%m-%d %H:%M:%S') }}</td>
              <td>
                <a href="/update/{{ todo.sno }}" class="btn btn-info btn-sm mx-1">Update</a>
                <a href="/delete/{{ todo.sno }}" class="btn btn-danger btn-sm mx-1">Delete</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      {% endif %}
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
{%endblock body%}